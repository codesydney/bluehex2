{% extends "base.html" %}

{% block title %}Contact - bluehex2{% endblock %}

{% block head %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="min-h-screen py-8 sm:py-12 px-4">
    <div class="max-w-4xl mx-auto">
        <!-- Header Section -->
        <div class="text-center mb-8 sm:mb-12">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-hand font-bold text-black mb-4 sm:mb-6">
                Contact Us
            </h1>
            <p class="text-base sm:text-lg text-secondary font-sans max-w-2xl mx-auto px-4">
                Have a question or want to get in touch? We'd love to hear from you. 
                Send us a message and we'll respond as soon as possible.
            </p>
        </div>

        <div class="grid lg:grid-cols-2 gap-8 sm:gap-12">
            <!-- Contact Form -->
            <div class="bg-white border-2 border-black rounded-lg p-4 sm:p-6 md:p-8">
                <h2 class="text-xl sm:text-2xl font-hand font-bold text-black mb-4 sm:mb-6">Send us a Message</h2>
                
                <form id="contact-form" class="space-y-6">
                    <div>
                        <label for="name" class="block text-sm font-medium text-black mb-2 font-hand">
                            Full Name *
                        </label>
                        <input 
                            type="text" 
                            id="name" 
                            name="name" 
                            required
                            class="w-full px-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-black focus:border-black font-sans"
                            placeholder="Enter your full name"
                        >
                    </div>

                    <div>
                        <label for="email" class="block text-sm font-medium text-black mb-2 font-hand">
                            Email Address *
                        </label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            required
                            class="w-full px-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-black focus:border-black font-sans"
                            placeholder="Enter your email address"
                        >
                    </div>

                    <div>
                        <label for="phone" class="block text-sm font-medium text-black mb-2 font-hand">
                            Phone Number *
                        </label>
                        <input 
                            type="tel" 
                            id="phone" 
                            name="phone" 
                            required
                            class="w-full px-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-black focus:border-black font-sans"
                            placeholder="Enter your phone number"
                        >
                    </div>

                    <div>
                        <label for="message" class="block text-sm font-medium text-black mb-2 font-hand">
                            Message *
                        </label>
                        <textarea 
                            id="message" 
                            name="message" 
                            rows="6"
                            required
                            class="w-full px-4 py-3 border-2 border-black rounded-lg focus:ring-2 focus:ring-black focus:border-black font-sans resize-vertical"
                            placeholder="Tell us more about your inquiry..."
                        ></textarea>
                    </div>

                    <button 
                        type="submit"
                        id="submit-btn"
                        class="w-full bg-black text-white px-6 py-3 rounded-lg font-hand font-bold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        <span id="btn-text">Send Message</span>
                        <span id="btn-loading" class="hidden">Sending...</span>
                    </button>
                </form>

                <!-- Success/Error Messages -->
                <div id="success-message" class="hidden bg-white border-2 border-black rounded-lg p-4 mt-6">
                    <div class="flex">
                        <svg class="w-5 h-5 text-black mr-3 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                        <p class="text-black font-sans">Thank you for your message! We'll get back to you soon.</p>
                    </div>
                </div>

                <div id="error-message" class="hidden bg-white border-2 border-black rounded-lg p-4 mt-6">
                    <div class="flex">
                        <svg class="w-5 h-5 text-black mr-3 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
                        </svg>
                        <p class="text-black font-sans">Sorry, there was an error sending your message. Please try again.</p>
                    </div>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="space-y-6 sm:space-y-8">
                <!-- Contact Details -->
                <div class="bg-white border-2 border-black rounded-lg p-4 sm:p-6 md:p-8">
                    <h2 class="text-xl sm:text-2xl font-hand font-bold text-black mb-4 sm:mb-6">Get in Touch</h2>
                    
                    <div class="space-y-6">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <svg class="w-6 h-6 text-black mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-lg font-hand font-bold text-black">Email</h3>
                                <p class="text-secondary font-sans">info@code.sydney</p>
                            </div>
                        </div>

                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                <svg class="w-6 h-6 text-black mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-lg font-hand font-bold text-black">Response Time</h3>
                                <p class="text-secondary font-sans">We typically respond within 24 hours</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social Media -->
                <div class="bg-white border-2 border-black rounded-lg p-4 sm:p-6 md:p-8">
                    <h2 class="text-xl sm:text-2xl font-hand font-bold text-black mb-4 sm:mb-6">Follow Us</h2>
                    
                    <div class="flex space-x-4">
                        <a href="https://www.facebook.com/groups/vibecamp" target="_blank" class="text-secondary hover:text-black transition-colors" title="Facebook Group">
                            <i class="fab fa-facebook-f text-2xl"></i>
                        </a>
                        <a href="https://www.facebook.com/profile.php?id=61579579477817" target="_blank" class="text-secondary hover:text-black transition-colors" title="Facebook Page">
                            <i class="fab fa-meta text-2xl"></i>
                        </a>
                        <a href="https://www.meetup.com/vibecamp/" target="_blank" class="text-secondary hover:text-black transition-colors" title="Meetup">
                            <i class="fab fa-meetup text-2xl"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- EmailJS Script -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<script>
    // Initialize EmailJS
    (function() {
        emailjs.init("user_nEmQ6yi4aBPvlCKCkUAfK");
    })();

    // Handle form submission
    document.getElementById('contact-form').addEventListener('submit', function(event) {
        event.preventDefault();
        
        const submitBtn = document.getElementById('submit-btn');
        const btnText = document.getElementById('btn-text');
        const btnLoading = document.getElementById('btn-loading');
        const successMessage = document.getElementById('success-message');
        const errorMessage = document.getElementById('error-message');
        
        // Hide previous messages
        successMessage.classList.add('hidden');
        errorMessage.classList.add('hidden');
        
        // Show loading state
        submitBtn.disabled = true;
        btnText.classList.add('hidden');
        btnLoading.classList.remove('hidden');
        
        // Get form data
        const formData = {
            name: document.getElementById('name').value,
            phone: document.getElementById('phone').value,
            email: document.getElementById('email').value,
            message: document.getElementById('message').value
        };
        
        // Send email using EmailJS
        emailjs.send('service_mdqd40d', 'template_0z60hwr', formData)
            .then(function(response) {
                console.log('SUCCESS!', response.status, response.text);
                
                // Show success message
                successMessage.classList.remove('hidden');
                
                // Reset form
                document.getElementById('contact-form').reset();
                
                // Reset button state
                submitBtn.disabled = false;
                btnText.classList.remove('hidden');
                btnLoading.classList.add('hidden');
                
            }, function(error) {
                console.log('FAILED...', error);
                
                // Show error message
                errorMessage.classList.remove('hidden');
                
                // Reset button state
                submitBtn.disabled = false;
                btnText.classList.remove('hidden');
                btnLoading.classList.add('hidden');
            });
    });
</script>
{% endblock %}

